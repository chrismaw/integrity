{% extends 'base.twig' %}
    {% block header %}
    {% endblock header %}
{% block content %}
    <div id="app">
        <div>
            <transition name="fade" mode="out-in">
                <router-view></router-view>
            </transition>
        </div>
    </div>
    <template id="home">
        <div>
            {% set bg_color = "dark" %}
            {% set text_color = "white" %}
            {#{% include 'header.twig' %}#}
            <div id="index-header">
                <nav class="navbar fixed-top navbar-expand-md navbar-{{ bg_color }} scrolling-navbar">
                    {% if settings %}
                        <a class="navbar-brand text-hide" href="{{ app_uri }}">Integrity Church
                            <img id="header-logo" src="{{ app_uri }}img/{% if bg_color == "dark" %}{{ settings.header_logo_light }}{% else %}{{ settings.header_logo_dark }}{% endif %}"/>
                        </a>
                    {% endif %}
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <div id="burger">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </button>
                    {#<div class="navbar-collapse collapse" id="navbarSupportedContent">#}
                        {#{% if headerLinks %}#}
                            {#<ul class="navbar-nav ml-auto">#}
                                {#{% for key, parent in headerLinks %}#}
                                    {#{% if key|length %}#}
                                        {#<li class="nav-item dropdown">#}
                                            {#<a class="nav-link dropdown-toggle h5" style="color: {% if text_color == 'dark' %}#343a40{% else %}#fff{% endif %}" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">#}
                                                {#{{ key|title }}#}
                                            {#</a>#}
                                            {#<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">#}
                                                {#{% for link in parent%}#}
                                                    {#<a class="dropdown-item" href="{{ app_uri }}{{  link.parent ?  link.parent : '' }}/{{ link.path }}"><strong>{{ link.name|title }}</strong></a>#}
                                                {#{% endfor %}#}
                                            {#</div>#}
                                        {#</li>#}
                                    {#{% endif %}#}
                                {#{% endfor %}#}
                            {#</ul>#}
                        {#{% else %}#}
                            {#<h1>No Link Parents, No Link Rules!</h1>#}
                        {#{% endif %}#}
                    {#</div>#}
                </nav>
            </div>
            <div id="index-top">
                {#<img class="img-fluid" src="{{ app_uri }}/img/collage.jpg">#}
                <div id="index-top-main" class="px-5 text-right">
                    <div id="welcome-text" class="ml-5">WELCOME</div>
                    <div style="line-height: 1">
                        <router-link to="/welcome" class="text-white" style="text-decoration: none; font-size: 1.5em">
                            <span style="vertical-align: text-bottom">COME TO A SERVICE&nbsp;&nbsp;&nbsp;</span>
                            <i style="color:#60aec8;font-size: 2em" class="fas fa-caret-right"></i>
                        </router-link><br>
                        <router-link to="/" class="text-white" style="text-decoration: none; font-size: 1.5em">
                            <span style="vertical-align: text-bottom">SEE OUR BELIEFS&nbsp;&nbsp;&nbsp;</span>
                            <i style="color:#60aec8;font-size: 2em" class="fas fa-caret-right"></i>
                        </router-link><br>
                        <router-link to="/" class="text-white" style="text-decoration: none; font-size: 1.5em">
                            <span style="vertical-align: text-bottom">LATEST SERMON&nbsp;&nbsp;&nbsp;</span>
                            <i style="color:#60aec8;font-size: 2em" class="fas fa-caret-right"></i>
                        </router-link><br>
                    </div>
                </div>
            </div>
            <div id="index-mid">
                <div class="container text-center">
                    <p class="my-5">
                        OUR MISSION IS TO <br>
                        <span id="m&m">MATURE AND MULTIPLY</span><br>
                        BELIEVERS TO LEAVE<br>
                        A GOSPEL LEGACY
                    </p>
                </div>
            </div>
            <div id="index-footer">

            </div>
        </div>
    </template>

    <template id="welcome">
        {{ include('./templates/welcome') }}
    </template>

    <template id="beliefs">
        <div>
            <div class="container-fluid">
                <router-link to="/">
                    <i style="color:#60aec8;font-size: 2.5em" class="fas fa-caret-left"></i>
                </router-link>
            </div>
            <h1>Believe it</h1>
        </div>
    </template>

    <template id="series">
        {{ include('./templates/series') }}
    </template>

{% endblock content %}
{% block footer %}
{% endblock footer %}
{% block scripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.3/vue.js"></script>
    <script src="https://unpkg.com/vue-router@2.0.0/dist/vue-router.js"></script>
    <script>
        const HomeComponent = {
            props: [],
            template: '#home'
        };
        const WelcomeComponent = {template: '#welcome'};
        const BeliefsComponent = {template: '#beliefs'};
        const SeriesComponent = {template: '#series'};

        const routes = [
            {path: '/', component: HomeComponent},
            {path: '/welcome', component: WelcomeComponent},
            {path: '/beliefs', component: BeliefsComponent},
            {path: '/series', component: SeriesComponent},
            {path: '*', redirect: '/'}
        ];

        const router = new VueRouter({
            routes
        });
        const app = new Vue({
            router
        }).$mount('#app');

        $(document).ready(function(){
            $('#burger').click(function(){
                $(this).toggleClass('open');
            });
        });
    </script>
{% endblock scripts %}
